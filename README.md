## JavaScript

### По проекту

Для претендующих на автомат (кто без проекта) необходимо сделать л.р. №5, 6 красиво и четко (и в плане организации структуры *HTML* документа, и в плане организации *JS* кода).

Общие требования по тесту:
- варианты вопросов для теста берем из л.р. №6
- после загрузки *HTML*-страницы должна открываться форма регистрации (ее содержимое и требования описаны в л.р. №6)
- после заполнения формы она исчезает и затем появляется основное окно теста
	- анимации исчезновения и появления должны быть плавными (можно придумать свой способ перехода окон)
	- требования к основному окну теста и результатам теста см. в л.р. №6

Требования к *UI* (*User Interface*) (*HTML*, *CSS*):
- современный и сбалансированный дизайн
	- можно найти шаблоны в Интернете
- грамотно разбить все на контейнеры (с помощью *Grid*)
- размеры задаем только в `em` и в % от высоты/ширины вьюпорта (`vh`, `vw`). Пиксели не используем (исключение: тонкие линии, например, границы)

Требования к организации *JS*-кода:
- для хранения вопросов и ответов использовать массив, содержащий объекты
- весь код должен быть разбит на функции, например:
	- для отображения окна регистрации
	- для отображения окна теста
	- для отображения окна с результатами
	- для отображения вопроса
	- для отображения навигационного списка вопросов
	- и др. вспомогательные функции
- обработчики нажатия кнопок добавляем только с использованием `addEventListener`
- переменные, которые не должны изменятся, объявляем через `const`. Остальные: через `let`
	- названия изменяемых переменных должны быть в стиле *CamelCase* (например, `fullName`, `dateOfBirth`, `shippingAddress`) 
	- названия констант должны объявляться в верхнем регистре, слова разделяются нижним подчеркиванием (например, `TEST_QUESTIONS`, `USERNAME`, `MAX_COUNT`)

### Рекомендации и теория

**Что такое объект в *JS*?**

Объекты в *JavaScript* - это структуры данных, которые используются для хранения коллекций значений в виде пар `ключ: значение`. Ключи (или свойства) - это строки (или символы), а значения могут быть любого типа, включая другие объекты и функции. 

Объекты создаются с помощью фигурных скобок `{}`, например: 

```JavaScript
let user = {
    name: "Pipka",
    age: 30
};
```

Доступ к свойствам можно получить через точечную нотацию (`user.name`) или скобочную (`user["age"]`).

Пример объекта с объектами:

```JavaScript
let data = {
    groupName: "ИТД-11",
    faculty: "ФАИС",
    students: [
        {
            surname: "Кусков",
            name: "Арсений"
        },
        {
            surname: "Пупс",
            name: "Елизавета"
        }
    ]
}
```

**Добавление обработчиков событий**

[Про `addEventListener`](https://metanit.com/web/javascript/9.2.php)

Пример использования:

```JavaScript
let username = "";

// Добавляем слушатель на клик по кнопке с id btn-run
// Обработчик события добавляется как анонимная функция
document.querySelector("#btn-run").addEventListener("click", () => {
    username = document.querySelector("#start-form").value;

    if (username) {
        startTest();
    }
});
```

```JavaScript
let username = "";

// Либо можно описать именованную функцию
function btnRunClick() {
    username = document.querySelector("#start-form").value;

    if (username) {
        startTest();
    }
}

// И добавить ее в качестве обработчика события
document.querySelector("#btn-run").addEventListener("click", btnRunClick);
```

**Внедрение *HTML***

Для динамического рендеринга *DOM*-элементов можно описать функцию, которая принимает необходимые данные, внедряет их в *HTML* и возвращает ее. Далее этот *HTML* можно добавить в какой-либо контейнер.

Пример:

Пусть объект, описывающий вопрос и варианты, выглядит следующим образом:

```JavaScript
const questions = [
    {
        text: "Текст вопроса",
        variants: ["Вариант 1", "Вариант 2", "Вариант 3"]
    },
    
    // ...
]
```

```JavaScript
/**
 * Формирование HTML формы вопроса
 * @param {*} question Объект с вопросом и вариантами ответов
 * @returns HTML формы вопроса
 */
function getTestUnitHTML(question) {
    let html = `
        <h3>${question.text}</h3>
        <span>Варианты ответа:</span>
    `;

    for (let i = 0; i < question.variants.length; i++) {
        html += `
            <input type="radio" name="ans" value="${i}">
            <label for="ans">${question.variants[i]}</label>
        `;
    }
    
    return html;
}
```

**Подсказка по плавным анимациям**

Плавную анимацию перехода можно сделать с использованием *CSS*-свойства `opacity`. На текущем окне задается `opacity: 0`, а в новом `opacity: 1`. Также необходимо задать длительность анимации с помощью свойства `transition-duration`. В *JS* необходимо написать скрипт, который:
- установит текущему окну `opacity: 0`
- через `N` секунд установит новому окну `opacity: 1`

Для установки задержки используется функция `setTimeout` ([Подробнее](https://metanit.com/web/javascript/7.6.php)). В нее необходимо передать функцию и задержку в милисекундах, после которой эта функция начнет выполняться.

Пример:

```JavaScript
let from = document.querySelector("#start-dialog");
let to   = document.querySelector("#test-content");

from.style.opacity = 0;

// свойство opacity применяется с задержкой в 1 секунду
setTimeout(() => {
    to.style.opacity = 1;
}, 1000);
```

Также, чтобы окна не перекрывали друг друга, необходимо менять свойство `display` или `z-index`. Подумайте как это можно сделать.